SQL> rem RISCHERT, A (2004).OracleÂ® SQL by Example,Upper Saddle River,NJ,USA:Perarson.
SQL> 
SQL> set pagesize 99
SQL> set linesize 200
SQL> set colsep '|=|'
SQL> set underline =
SQL> set null s/Datos
SQL> set feedback on
SQL> 
SQL> 
SQL> rem [Rischert,A,2004,368]
SQL> SELECT course_no, description, cost
  2   FROM course
  3   WHERE cost =
  4   (SELECT MIN(cost)
  5   FROM course);

ninguna fila seleccionada

SQL> 
SQL> 
SQL> rem [Rischert,A,2004,369]
SQL> SELECT course_no, description, cost
  2   FROM course
  3   WHERE cost IN
  4   (SELECT cost
  5   FROM course
  6   WHERE prerequisite = 20) ;

ninguna fila seleccionada

SQL> 
SQL> rem [Rischert,A,2004,370]
SQL> rem The next query determines the last and first names of students enrolled in section number 8 ofcourse number 20.
SQL> SELECT last_name, first_name
  2   FROM student
  3   WHERE student_id IN
  4   (SELECT student_id
  5   FROM enrollment
  6   WHERE section_id IN
  7   (SELECT section_id
  8   FROM section
  9   WHERE section_no = 8
 10   AND course_no = 20)) ;

ninguna fila seleccionada

SQL> 
SQL> rem [RISCHERT,2004,371]
SQL> SELECT course_no, description
  2   FROM course
  3   WHERE course_no IN
  4   (SELECT course_no
  5   FROM section
  6   WHERE location = 'L211') ;

ninguna fila seleccionada

SQL> 
SQL> SELECT c.course_no, c.description
  2   FROM course c, section s
  3   WHERE c.course_no = s.course_no
  4   AND s.location = 'L211' ;

ninguna fila seleccionada

SQL> 
SQL> rem [RISCHERT,2004,372]
SQL> SELECT student_id, section_id, numeric_grade
  2   FROM grade
  3   WHERE grade_type_code = 'PJ'
  4   AND (section_id, numeric_grade) IN
  5   (SELECT section_id, MAX(numeric_grade)
  6   FROM grade
  7   WHERE grade_type_code = 'PJ'
  8   GROUP BY section_id) ;

STUDENT_ID|=|SECTION_ID|=|NUMERIC_GRADE                                                                                                                                                                 
==========|=|==========|=|=============                                                                                                                                                                 
       166|=|        88|=|           99                                                                                                                                                                 
       168|=|       133|=|           92                                                                                                                                                                 
       234|=|       137|=|           99                                                                                                                                                                 
       245|=|        82|=|           77                                                                                                                                                                 
       105|=|       155|=|           92                                                                                                                                                                 
       232|=|       149|=|           83                                                                                                                                                                 
       153|=|       144|=|           92                                                                                                                                                                 
       176|=|       115|=|           76                                                                                                                                                                 

8 filas seleccionadas.

SQL> 
SQL> rem [RISCHERT,2004,384]
SQL> SELECT student_id, section_id, numeric_grade
  2   FROM grade outer
  3   WHERE grade_type_code = 'PJ'
  4   AND numeric_grade =
  5   (SELECT MAX(numeric_grade)
  6   FROM grade
  7   WHERE grade_type_code = outer.grade_type_code
  8   AND section_id = outer.section_id)
  9  
SQL> rem The following correlated subquery displays instructors where the INSTRUCTOR_ID has a matching
SQL> rem [RISCHERT,2004,386]
SQL> SELECT instructor_id, last_name, first_name, zip
  2   FROM instructor i
  3   WHERE EXISTS
  4   (SELECT 'X'
  5   FROM section
  6   WHERE i.instructor_id = instructor_id) ;

ninguna fila seleccionada

SQL> 
SQL> 
SQL> -- Inline Views And Scalar Subquery Expressions
SQL> rem [RISCHERT,2004,408]
SQL> SELECT a.course_no, total_capacity, total_students,
  2  ROUND(100/total_capacity*total_students, 2)
  3  "Filled Percentage"
  4  FROM (SELECT COUNT(*) total_students, s.course_no
  5  FROM enrollment e, section s
  6  WHERE e.section_id = s.section_id
  7  GROUP BY s.course_no) a,
  8  (SELECT SUM(capacity) total_capacity, course_no
  9  FROM section
 10  GROUP BY course_no) b
 11  WHERE b.course_no = a.course_no
 12  ORDER BY "Filled Percentage" DESC;

ninguna fila seleccionada

SQL> 
SQL> 
SQL> rem [RISCHERT,2004,414]
SQL> SELECT section_id, numeric_grade
  2   FROM grade
  3   WHERE section_id = 84
  4   AND numeric_grade < ANY (80, 90) ;

SECTION_ID|=|NUMERIC_GRADE                                                                                                                                                                              
==========|=|=============                                                                                                                                                                              
        84|=|           88                                                                                                                                                                              
        84|=|           77                                                                                                                                                                              
        84|=|           88                                                                                                                                                                              

3 filas seleccionadas.

SQL> 
SQL> SELECT section_id, numeric_grade
  2   FROM grade
  3   WHERE section_id = 84
  4   AND numeric_grade < ALL (80, 90) ;

SECTION_ID|=|NUMERIC_GRADE                                                                                                                                                                              
==========|=|=============                                                                                                                                                                              
        84|=|           77                                                                                                                                                                              

1 fila seleccionada.

SQL> 
SQL> 
SQL> spool off;
